/* --- 1. VARIABLES & TOKENS --- */
:root {
    /* Paleta Cromática Oficial */
    --col-primary: #0033A1;    /* Azul Profundo (AAA) */
    --col-secondary: #FFCC33;  /* Amarillo Accesible (AA) */
    --col-tertiary: #4F7EDB;   /* Azul Claro */
    --col-bg: #FFFFFF;
    --col-text: #1A1A1A;
    --col-error: #D32F2F;
    --col-success: #2E7D32;

    /* Tipografía: Inter */
    --font-main: 'Inter', sans-serif;

    /* Espaciado y Bordes */
    --radius-md: 12px;
    --radius-round: 50px;
    --shadow-soft: 0 4px 6px -1px rgba(0, 0, 0, 0.1);

    /* Tamaños de Fuente Base (Escalable por JS) */
    --text-base: 16px; 
    --text-h1: 2.25rem; /* 36px */
    --text-h2: 1.75rem; /* 28px */
}

/* Modo Alto Contraste (Clase activada por JS) */
body.high-contrast {
    --col-primary: #000000;
    --col-secondary: #FFFF00;
    --col-tertiary: #FFFFFF;
    --col-bg: #000000;
    --col-text: #FFFF00;
}

/* --- 2. RESET & BASE --- */
* { box-sizing: border-box; margin: 0; padding: 0; }

body {
    font-family: var(--font-main);
    background-color: var(--col-bg);
    color: var(--col-text);
    line-height: 1.6;
    font-size: var(--text-base);
    transition: background 0.3s, color 0.3s;
}

/* Tipografía */
h1 { font-size: var(--text-h1); color: var(--col-primary); font-weight: 700; margin-bottom: 1rem; }
h2 { font-size: var(--text-h2); color: var(--col-primary); font-weight: 600; margin-bottom: 0.75rem; }

/* Focus Visible (Critico para navegación por teclado) */
:focus-visible {
    outline: 4px solid var(--col-secondary);
    outline-offset: 2px;
}

/* Utilidad para lectores de pantalla */
.sr-only {
    position: absolute; width: 1px; height: 1px; padding: 0; margin: -1px;
    overflow: hidden; clip: rect(0, 0, 0, 0); border: 0;
}

/* --- 3. LAYOUT & GENERAL --- */
.container {
    max-width: 1200px;
    margin: 0 auto;
    padding: 0 20px;
}

.grid-12 {
    display: grid;
    grid-template-columns: repeat(12, 1fr);
    gap: 24px;
}

/* Header */
header {
    background: #fff;
    border-bottom: 2px solid var(--col-tertiary);
    padding: 1rem 0;
}

.nav-flex {
    display: flex;
    justify-content: space-between;
    align-items: center;
}

.access-panel {
    display: flex;
    gap: 10px;
    margin-bottom: 10px;
}

/* Footer */
footer {
    background: var(--col-primary); 
    color: #fff; 
    padding: 40px 0; 
    margin-top: 60px;
}

footer a { color: #fff; text-decoration: none; }


/* --- 4. COMPONENTES --- */

/* Botones Accesibles */
.btn {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    padding: 12px 24px;
    border-radius: var(--radius-md);
    font-weight: 600;
    text-decoration: none;
    cursor: pointer;
    border: none;
    font-size: 1.125rem;
    min-height: 48px; /* Zona táctil mínima */
    transition: transform 0.1s;
}

.btn-primary {
    background-color: var(--col-primary);
    color: #fff;
}

.btn-primary:hover {
    background-color: #00227a;
    transform: scale(1.02);
}

.btn-secondary {
    background-color: var(--col-tertiary);
    color: #fff;
}

.btn-secondary:hover {
    background-color: #3b66c4;
}

.btn-xl {
    padding: 16px 32px;
    font-size: 1.25rem;
}

/* Tarjetas (Cards) */
.card {
    background: #fff;
    border: 2px solid var(--col-tertiary);
    border-radius: var(--radius-md);
    padding: 24px;
    box-shadow: var(--shadow-soft);
    display: flex;
    flex-direction: column;
    height: 100%;
}

.card:hover {
    border-color: var(--col-primary);
}

/* Formularios */
.form-group { margin-bottom: 1.5rem; }
label { display: block; font-weight: 600; margin-bottom: 0.5rem; }
input:not([type="checkbox"]), textarea, select {
    width: 100%;
    padding: 12px;
    border: 2px solid var(--col-tertiary);
    border-radius: 8px;
    font-size: 1rem;
}

/* --- 5. COMPONENTES ESPECIALES (TRADUCTOR & QUIZ) --- */

/* TRADUCTOR BRAILLE OUTPUT */
.translator-output {
    display: flex;
    flex-wrap: nowrap; /* No wrapping for visual sequence */
    overflow-x: auto;
    gap: 16px;
    padding: 24px;
    background-color: #f4f6f9;
    border-radius: var(--radius-md);
    border: 2px dashed var(--col-tertiary);
    min-height: 120px;
    align-items: center;
    justify-content: flex-start;
}

.braille-cell-render {
    display: grid;
    grid-template-columns: repeat(2, 1fr);
    gap: 6px;
    width: 40px;
    height: 60px; 
    position: relative;
    flex-shrink: 0; /* Important for non-wrapping */
}

.braille-cell-render .dot {
    width: 12px;
    height: 12px;
    background-color: #ddd; 
    border-radius: 50%;
    margin: auto;
    box-shadow: inset 0 1px 3px rgba(0,0,0,0.2); 
    transition: background-color 0.2s;
}

.braille-cell-render .dot.active {
    background-color: var(--col-primary); 
    transform: scale(1.2); 
    box-shadow: 0 2px 4px rgba(0,51,161,0.4);
}

.cell-label {
    position: absolute;
    bottom: -25px;
    left: 0;
    right: 0;
    text-align: center;
    font-weight: 700;
    color: var(--col-primary);
    font-size: 1rem;
}

/* QUIZ GAME */
.quiz-container {
    max-width: 500px;
    margin: 0 auto;
    text-align: center;
}

.quiz-header {
    display: flex;
    justify-content: flex-end;
    margin-bottom: 20px;
}

.score-badge {
    background: var(--col-secondary);
    color: var(--col-text);
    padding: 8px 16px;
    border-radius: var(--radius-round);
    font-weight: 700;
    font-size: 1.2rem;
    box-shadow: var(--shadow-soft);
}

.braille-display-lg {
    display: grid;
    grid-template-columns: repeat(2, 1fr);
    gap: 12px;
    width: 100px;
    margin: 0 auto 24px;
    padding: 16px;
    background: #fff;
    border: 4px solid var(--col-primary);
    border-radius: 16px;
}

.braille-display-lg .dot {
    width: 30px;
    height: 30px;
    border-radius: 50%;
    background-color: #eee;
    margin: 0 auto;
}

.braille-display-lg .dot.active {
    background-color: var(--col-primary);
    box-shadow: 0 0 10px rgba(0, 51, 161, 0.5);
    transform: scale(1.1);
}

.options-grid {
    display: grid;
    grid-template-columns: repeat(3, 1fr);
    gap: 16px;
    margin-bottom: 24px;
}

.btn-quiz {
    background: white;
    border: 2px solid var(--col-tertiary);
    border-radius: 12px;
    font-size: 2rem;
    padding: 20px 0;
    color: var(--col-primary);
    cursor: pointer;
    font-weight: 700;
    transition: all 0.2s;
}

.btn-quiz:hover, .btn-quiz:focus {
    background: var(--col-tertiary);
    color: white;
    transform: translateY(-4px);
    box-shadow: 0 4px 8px rgba(0,0,0,0.15);
}

.feedback-msg {
    min-height: 2rem;
    font-weight: 600;
    font-size: 1.2rem;
    opacity: 0;
    transition: opacity 0.3s;
}

.feedback-msg.success {
    color: var(--col-success);
    opacity: 1;
}

.feedback-msg.error {
    color: var(--col-error);
    opacity: 1;
}
